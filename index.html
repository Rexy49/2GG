<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Compare 4x4 Grids and Generate Combinations</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  h2 { margin-top: 30px; }
  .grids { display: flex; gap: 50px; margin-top: 20px; }
  .grid { display: grid; grid-template-columns: repeat(4, 50px); gap: 10px; }
  input { width: 50px; height: 50px; text-align: center; font-size: 20px; }
  button { padding: 10px 20px; font-size: 16px; margin-top: 10px; }
  #controls { margin-top: 20px; display: flex; align-items: center; gap: 10px; }
  #searchInput { padding: 8px; width: 300px; font-size: 16px; }
  #combinations { margin-top: 20px; max-height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; }
  .combo { padding: 5px 10px; background-color: #f0f0f0; border-radius: 4px; font-family: monospace; margin: 2px 0; }
  .grid-section { margin-bottom: 30px; }
</style>
</head>
<body>

<h1>Compare 4x4 Grids and Generate All Possible Combinations</h1>

<div class="grids">
  <!-- First Grid -->
  <div class="grid-section">
    <h2>Grid 1</h2>
    <div class="grid" id="grid1">
      <!-- 16 inputs -->
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
    </div>
  </div>
  <!-- Second Grid -->
  <div class="grid-section">
    <h2>Grid 2</h2>
    <div class="grid" id="grid2">
      <!-- 16 inputs -->
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
      <input type="text" maxlength="1" />
    </div>
  </div>
</div>

<div id="controls">
  <button id="generateBtn">Generate Combinations</button>
  <button id="resetBtn">Reset</button>
  <input type="text" id="searchInput" placeholder="Search combinations..." />
</div>

<h3>Generated Combinations for Grid 1</h3>
<div id="combinations1" style="max-height:200px; overflow-y:auto; border:1px solid #ccc; padding:10px;"></div>

<h3>Generated Combinations for Grid 2</h3>
<div id="combinations2" style="max-height:200px; overflow-y:auto; border:1px solid #ccc; padding:10px;"></div>

<div>
  <h3>Search Results</h3>
  <div id="searchResults" style="max-height:200px; overflow-y:auto; border:1px solid #ccc; padding:10px;"></div>
</div>

<script>
const grid1Inputs = document.querySelectorAll('#grid1 input');
const grid2Inputs = document.querySelectorAll('#grid2 input');
const combinationsDiv1 = document.getElementById('combinations1');
const combinationsDiv2 = document.getElementById('combinations2');
const searchInput = document.getElementById('searchInput');
const searchResultsDiv = document.getElementById('searchResults');

let grid1Options = []; // Options per position
let grid2Options = [];
let grid1Combinations = [];
let grid2Combinations = [];

// Generate all options per grid based on inputs
function getOptions(inputs) {
  const options = [];
  for (let i=0; i<16; i++) {
    const val = inputs[i].value.trim();
    if (val === '') {
      options.push(['0','1','2','3','4','5','6','7','8','9']); // all digits if empty
    } else if (/^[0-9]$/.test(val)) {
      options.push([val]);
    } else {
      // invalid input, treat as empty
      options.push(['0','1','2','3','4','5','6','7','8','9']);
    }
  }
  return options;
}

// Generate all combinations from options
function generateAllCombinations(options) {
  const results = [];
  function recurse(current, index) {
    if (index === options.length) {
      results.push(current.join(''));
      return;
    }
    for (const digit of options[index]) {
      recurse([...current, digit], index + 1);
    }
  }
  recurse([], 0);
  return results;
}

function generate() {
  // Get options for each grid
  grid1Options = getOptions(grid1Inputs);
  grid2Options = getOptions(grid2Inputs);
  
  // Generate all combinations
  grid1Combinations = generateAllCombinations(grid1Options);
  grid2Combinations = generateAllCombinations(grid2Options);
  
  // Display for grid 1
  combinationsDiv1.innerHTML = '';
  grid1Combinations.forEach(c => {
    const div = document.createElement('div');
    div.className = 'combo';
    div.textContent = c;
    combinationsDiv1.appendChild(div);
  });
  
  // Display for grid 2
  combinationsDiv2.innerHTML = '';
  grid2Combinations.forEach(c => {
    const div = document.createElement('div');
    div.className = 'combo';
    div.textContent = c;
    combinationsDiv2.appendChild(div);
  });
  
  // Clear search results
  document.getElementById('searchResults').innerHTML = '';
}

// Reset inputs and outputs
function reset() {
  document.querySelectorAll('input[type=text]').forEach(input => input.value = '');
  combinationsDiv1.innerHTML = '';
  combinationsDiv2.innerHTML = '';
  document.getElementById('searchResults').innerHTML = '';
}

// Search filter
searchInput.addEventListener('input', () => {
  const term = searchInput.value.trim();
  if (term === '') {
    // Show all combinations for both grids
    combinationsDiv1.innerHTML = '';
    grid1Combinations.forEach(c => addCombo(c, combinationsDiv1));
    combinationsDiv2.innerHTML = '';
    grid2Combinations.forEach(c => addCombo(c, combinationsDiv2));
    document.getElementById('searchResults').innerHTML = '';
  } else {
    // Filter both lists
    const filtered1 = grid1Combinations.filter(c => c.includes(term));
    const filtered2 = grid2Combinations.filter(c => c.includes(term));
    // Show in searchResults
    document.getElementById('searchResults').innerHTML = '';
    if (filtered1.length > 0) {
      const title = document.createElement('div');
      title.innerHTML = '<strong>Grid 1 Matches:</strong>';
      document.getElementById('searchResults').appendChild(title);
      filtered1.forEach(c => addCombo(c, document.getElementById('searchResults')));
    }
    if (filtered2.length > 0) {
      const title = document.createElement('div');
      title.innerHTML = '<strong>Grid 2 Matches:</strong>';
      document.getElementById('searchResults').appendChild(title);
      filtered2.forEach(c => addCombo(c, document.getElementById('searchResults')));
    }
  }
});

function addCombo(c, container) {
  const div = document.createElement('div');
  div.className = 'combo';
  div.textContent = c;
  container.appendChild(div);
}

document.getElementById('generateBtn').addEventListener('click', generate);
document.getElementById('resetBtn').addEventListener('click', reset);

// Initialize with empty grids
reset();

</script>
</body>
</html>

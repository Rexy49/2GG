<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Simple Pattern Search in Grids</title>
<style>
    body {
        font-family: Arial, sans-serif;
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
    }
    .container {
        display: flex;
        justify-content: space-between;
        margin-bottom: 30px;
    }
    .grid-container {
        width: 48%;
    }
    h2 {
        text-align: center;
        color: #333;
    }
    .grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 5px;
        margin-bottom: 15px;
    }
    .cell {
        border: 1px solid #ccc;
        padding: 15px;
        text-align: center;
        font-weight: bold;
        background-color: #f9f9f9;
        position: relative;
    }
    .cell input {
        width: 30px;
        text-align: center;
        font-weight: bold;
        border: none;
        background: transparent;
    }
    .controls {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 20px;
        flex-wrap: wrap;
    }
    button {
        padding: 8px 15px;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
    button:hover {
        background-color: #45a049;
    }
    .highlight {
        background-color: #ffeb3b;
        animation: pulse 1s;
    }
    @keyframes pulse {
        0% { background-color: #ffeb3b; }
        50% { background-color: #ffc107; }
        100% { background-color: #ffeb3b; }
    }
    .search-container {
        margin: 20px 0;
        padding: 15px;
        background-color: #f5f5f5;
        border-radius: 5px;
    }
    #searchInput {
        padding: 8px;
        width: 200px;
        margin-right: 10px;
    }
    #searchResults {
        margin-top: 10px;
    }
    .search-match {
        padding: 5px;
        background-color: #fff;
        margin: 3px 0;
        border-radius: 3px;
    }
</style>
</head>
<body>
<h1>Simple Pattern Search in 4x4 Grids</h1>

<div class="controls">
    <button id="loadExampleBtn">Load Example</button>
    <button id="clearBtn">Clear All</button>
    <button id="searchBtn">Search Pattern</button>
</div>

<div class="container">
    <div class="grid-container">
        <h2>Grid 1</h2>
        <div class="grid" id="grid1"></div>
    </div>
    <div class="grid-container">
        <h2>Grid 2</h2>
        <div class="grid" id="grid2"></div>
    </div>
</div>

<div class="search-container">
    <h3>Pattern Search</h3>
    <input type="text" id="searchInput" placeholder="Enter pattern, e.g., 1-2-3" />
    <div id="searchResults"></div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const grid1 = document.getElementById('grid1');
    const grid2 = document.getElementById('grid2');
    const loadExampleBtn = document.getElementById('loadExampleBtn');
    const clearBtn = document.getElementById('clearBtn');
    const searchBtn = document.getElementById('searchBtn');
    const searchInput = document.getElementById('searchInput');
    const searchResults = document.getElementById('searchResults');

    // Initialize grids with input cells
    function initializeGrid(grid) {
        grid.innerHTML = '';
        for (let i=0; i<4; i++) {
            for (let j=0; j<4; j++) {
                const cell = document.createElement('div');
                cell.className='cell';
                const input = document.createElement('input');
                input.type='text';
                input.maxLength=2;
                input.dataset.row=i;
                input.dataset.col=j;
                cell.appendChild(input);
                grid.appendChild(cell);
            }
        }
    }

    // Get grid data as 2D array
    function getGridData(grid) {
        const inputs = grid.querySelectorAll('input');
        const data = [[], [], [], []];
        inputs.forEach(input => {
            const r = parseInt(input.dataset.row);
            const c = parseInt(input.dataset.col);
            data[r][c] = input.value.trim() !== '' ? input.value.trim() : '';
        });
        return data;
    }

    // Load example grids
    function loadExample() {
        initializeGrid(grid1);
        initializeGrid(grid2);
        const example1 = [
            [1,2,3,4],
            [5,6,7,8],
            [9,10,11,12],
            [13,14,15,16]
        ];
        const example2 = [
            [16,15,14,13],
            [12,11,10,9],
            [8,7,6,5],
            [4,3,2,1]
        ];
        // Fill grid1
        const inputs1 = grid1.querySelectorAll('input');
        example1.forEach((row, i) => {
            row.forEach((val, j) => {
                const index = i*4 + j;
                inputs1[index].value = val;
            });
        });
        // Fill grid2
        const inputs2=grid2.querySelectorAll('input');
        example2.forEach((row, i) => {
            row.forEach((val, j) => {
                const index = i*4 + j;
                inputs2[index].value = val;
            });
        });
    }

    // Clear grids and results
    function clearAll() {
        initializeGrid(grid1);
        initializeGrid(grid2);
        searchResults.innerHTML = '';
    }

    // Search for the user-input pattern
    function searchPattern() {
        // Remove previous highlights
        document.querySelectorAll('.cell').forEach(c => c.classList.remove('highlight'));
        document.querySelectorAll('.cell-highlight').forEach(c => c.style.display='none');

        const patternStr = searchInput.value.trim();
        if (!patternStr) {
            searchResults.innerHTML = '<div class="search-match">Please enter a pattern.</div>';
            return;
        }
        const pattern = patternStr.split(/[-,\s]+/).filter(s => s !== '');
        if (pattern.length === 0) {
            searchResults.innerHTML = '<div class="search-match">Invalid pattern.</div>';
            return;
        }

        const gridData1 = getGridData(grid1);
        const gridData2 = getGridData(grid2);

        // Search in grid1
        const foundInGrid1 = findPatternInGrid(gridData1, pattern);
        // Search in grid2
        const foundInGrid2 = findPatternInGrid(gridData2, pattern);

        // Display results
        searchResults.innerHTML = '';
        if (foundInGrid1) {
            const div = document.createElement('div');
            div.className='search-match';
            div.innerHTML = `<strong>Pattern found in Grid 1:</strong> ${pattern.join('-')}`;
            searchResults.appendChild(div);
            // Highlight in grid1
            highlightPatternInGrid(grid1, foundInGrid1);
        }
        if (foundInGrid2) {
            const div = document.createElement('div');
            div.className='search-match';
            div.innerHTML = `<strong>Pattern found in Grid 2:</strong> ${pattern.join('-')}`;
            searchResults.appendChild(div);
            // Highlight in grid2
            highlightPatternInGrid(grid2, foundInGrid2);
        }
        if (!foundInGrid1 && !foundInGrid2) {
            searchResults.innerHTML = '<div class="search-match">Pattern not found in either grid.</div>';
        }
    }

    // Helper: find pattern in a grid data
    function findPatternInGrid(gridData, pattern) {
        const size = pattern.length;
        for (let i=0; i<4; i++) {
            for (let j=0; j<4; j++) {
                if (gridData[i][j] === pattern[0]) {
                    // BFS or DFS to find sequence
                    if (searchFromPosition(gridData, i, j, pattern, 0, new Set())) {
                        return {start: [i,j]};
                    }
                }
            }
        }
        return null;
    }

    // Recursive search for pattern starting at position with index
    function searchFromPosition(gridData, row, col, pattern, index, visited) {
        if (index >= pattern.length) return true;
        if (row <0 || row>=4 || col<0 || col>=4) return false;
        const key = row + ',' + col;
        if (visited.has(key)) return false;
        if (gridData[row][col] !== pattern[index]) return false;

        visited.add(key);
        // Explore neighbors (adjacent cells)
        const directions = [
            [-1,0], [1,0], [0,-1], [0,1]
        ];
        for (const [dr, dc] of directions) {
            if (searchFromPosition(gridData, row+dr, col+dc, pattern, index+1, visited)) {
                return true;
            }
        }
        visited.delete(key);
        return false;
    }

    // Highlight the pattern in grid
    function highlightPatternInGrid(grid, startPos) {
        // For simplicity, highlight only the starting cell
        // (Could be expanded to show full path if needed)
        const cells = grid.querySelectorAll('.cell');
        cells.forEach(c => c.classList.remove('highlight'));
        // Highlight starting cell
        if (startPos) {
            const [r,c] = startPos.start;
            const index = r*4 + c;
            const cell = cells[index];
            cell.classList.add('highlight');
            cell.querySelector('.cell-highlight').style.display='block';
        }
    }

    // Event listeners
    document.getElementById('loadExampleBtn').addEventListener('click', loadExample);
    document.getElementById('clearBtn').addEventListener('click', clearAll);
    document.getElementById('searchBtn').addEventListener('click', searchPattern);
    document.getElementById('searchInput').addEventListener('keypress', e => {
        if (e.key==='Enter') searchPattern();
    });

    // Initialize grids
    initializeGrid(grid1);
    initializeGrid(grid2);
});
</script>
</body>
</html>
